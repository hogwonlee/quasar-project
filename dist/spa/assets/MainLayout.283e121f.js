import{Q as ee}from"./QImg.2289d96c.js";import{Q as k,a as R,b as te}from"./QItemSection.73148223.js";import{c as Q,u as le,a as h,g as oe,h as S,Q as $,b as W,d as ae,r as V,i as j,o as E,e as H,n as X,f as M,j as P,l as I,k as Y,m as L,w as C,p as ne,q as N,s as ie,t as re,v as se,x as D,y as O,z as ue,A as ce,_ as de,B as fe,C as ve,D as he,E as ge,F as me,G as z,H as m,I as be,J as ye}from"./index.a7b58e98.js";import{Q as pe,a as we}from"./QPageContainer.676b9606.js";import{Q as ze}from"./QToolbarTitle.50ad7043.js";import{Q as G}from"./QToolbar.26f81c0f.js";import{a as _e}from"./axios.37d53be1.js";import{c as xe}from"./index.e763573d.js";var Se=Q({name:"QBtnToggle",props:{...le,modelValue:{required:!0},options:{type:Array,required:!0,validator:e=>e.every(d=>("label"in d||"icon"in d||"slot"in d)&&"value"in d)},color:String,textColor:String,toggleColor:{type:String,default:"primary"},toggleTextColor:String,outline:Boolean,flat:Boolean,unelevated:Boolean,rounded:Boolean,push:Boolean,glossy:Boolean,size:String,padding:String,noCaps:Boolean,noWrap:Boolean,dense:Boolean,readonly:Boolean,disable:Boolean,stack:Boolean,stretch:Boolean,spread:Boolean,clearable:Boolean,ripple:{type:[Boolean,Object],default:!0}},emits:["update:modelValue","clear","click"],setup(e,{slots:d,emit:l}){const n=h(()=>e.options.find(g=>g.value===e.modelValue)!==void 0),t=h(()=>({type:"hidden",name:e.name,value:e.modelValue})),f=ae(t),s=h(()=>oe(e)),b=h(()=>({rounded:e.rounded,dense:e.dense,...s.value})),c=h(()=>e.options.map((g,r)=>{const{attrs:x,value:w,slot:q,...y}=g;return{slot:q,props:{key:r,"aria-pressed":w===e.modelValue?"true":"false",...x,...y,...b.value,disable:e.disable===!0||y.disable===!0,color:w===e.modelValue?v(y,"toggleColor"):v(y,"color"),textColor:w===e.modelValue?v(y,"toggleTextColor"):v(y,"textColor"),noCaps:v(y,"noCaps")===!0,noWrap:v(y,"noWrap")===!0,size:v(y,"size"),padding:v(y,"padding"),ripple:v(y,"ripple"),stack:v(y,"stack")===!0,stretch:v(y,"stretch")===!0,onClick(a){i(w,g,a)}}}}));function i(g,r,x){e.readonly!==!0&&(e.modelValue===g?e.clearable===!0&&(l("update:modelValue",null,null),l("clear")):l("update:modelValue",g,r),l("click",x))}function v(g,r){return g[r]===void 0?e[r]:g[r]}function _(){const g=c.value.map(r=>S($,r.props,r.slot!==void 0?d[r.slot]:void 0));return e.name!==void 0&&e.disable!==!0&&n.value===!0&&f(g,"push"),W(d.default,g)}return()=>S(pe,{class:"q-btn-toggle",...s.value,rounded:e.rounded,stretch:e.stretch,glossy:e.glossy,spread:e.spread},_)}});function Ve(){const e=V(!j.value);return e.value===!1&&E(()=>{e.value=!0}),{isHydrated:e}}const Z=typeof ResizeObserver!="undefined",J=Z===!0?{}:{style:"display:block;position:absolute;top:0;left:0;right:0;bottom:0;height:100%;width:100%;overflow:hidden;pointer-events:none;z-index:-1;",url:"about:blank"};var F=Q({name:"QResizeObserver",props:{debounce:{type:[String,Number],default:100}},emits:["resize"],setup(e,{emit:d}){let l=null,n,t={width:-1,height:-1};function f(c){c===!0||e.debounce===0||e.debounce==="0"?s():l===null&&(l=setTimeout(s,e.debounce))}function s(){if(l!==null&&(clearTimeout(l),l=null),n){const{offsetWidth:c,offsetHeight:i}=n;(c!==t.width||i!==t.height)&&(t={width:c,height:i},d("resize",t))}}const{proxy:b}=P();if(b.trigger=f,Z===!0){let c;const i=v=>{n=b.$el.parentNode,n?(c=new ResizeObserver(f),c.observe(n),s()):v!==!0&&M(()=>{i(!0)})};return E(()=>{i()}),H(()=>{l!==null&&clearTimeout(l),c!==void 0&&(c.disconnect!==void 0?c.disconnect():n&&c.unobserve(n))}),X}else{let v=function(){l!==null&&(clearTimeout(l),l=null),i!==void 0&&(i.removeEventListener!==void 0&&i.removeEventListener("resize",f,I.passive),i=void 0)},_=function(){v(),n&&n.contentDocument&&(i=n.contentDocument.defaultView,i.addEventListener("resize",f,I.passive),s())};const{isHydrated:c}=Ve();let i;return E(()=>{M(()=>{n=b.$el,n&&_()})}),H(v),()=>{if(c.value===!0)return S("object",{class:"q--avoid-card-border",style:J.style,tabindex:-1,type:"text/html",data:J.url,"aria-hidden":"true",onLoad:_})}}}}),Ce=Q({name:"QHeader",props:{modelValue:{type:Boolean,default:!0},reveal:Boolean,revealOffset:{type:Number,default:250},bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},emits:["reveal","focusin"],setup(e,{slots:d,emit:l}){const{proxy:{$q:n}}=P(),t=Y(N,L);if(t===L)return console.error("QHeader needs to be child of QLayout"),L;const f=V(parseInt(e.heightHint,10)),s=V(!0),b=h(()=>e.reveal===!0||t.view.value.indexOf("H")!==-1||n.platform.is.ios&&t.isContainer.value===!0),c=h(()=>{if(e.modelValue!==!0)return 0;if(b.value===!0)return s.value===!0?f.value:0;const a=f.value-t.scroll.value.position;return a>0?a:0}),i=h(()=>e.modelValue!==!0||b.value===!0&&s.value!==!0),v=h(()=>e.modelValue===!0&&i.value===!0&&e.reveal===!0),_=h(()=>"q-header q-layout__section--marginal "+(b.value===!0?"fixed":"absolute")+"-top"+(e.bordered===!0?" q-header--bordered":"")+(i.value===!0?" q-header--hidden":"")+(e.modelValue!==!0?" q-layout--prevent-focus":"")),g=h(()=>{const a=t.rows.value.top,B={};return a[0]==="l"&&t.left.space===!0&&(B[n.lang.rtl===!0?"right":"left"]=`${t.left.size}px`),a[2]==="r"&&t.right.space===!0&&(B[n.lang.rtl===!0?"left":"right"]=`${t.right.size}px`),B});function r(a,B){t.update("header",a,B)}function x(a,B){a.value!==B&&(a.value=B)}function w({height:a}){x(f,a),r("size",a)}function q(a){v.value===!0&&x(s,!0),l("focusin",a)}C(()=>e.modelValue,a=>{r("space",a),x(s,!0),t.animate()}),C(c,a=>{r("offset",a)}),C(()=>e.reveal,a=>{a===!1&&x(s,e.modelValue)}),C(s,a=>{t.animate(),l("reveal",a)}),C(t.scroll,a=>{e.reveal===!0&&x(s,a.direction==="up"||a.position<=e.revealOffset||a.position-a.inflectionPoint<100)});const y={};return t.instances.header=y,e.modelValue===!0&&r("size",f.value),r("space",e.modelValue),r("offset",c.value),H(()=>{t.instances.header===y&&(t.instances.header=void 0,r("size",0),r("offset",0),r("space",!1))}),()=>{const a=ne(d.default,[]);return e.elevated===!0&&a.push(S("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),a.push(S(F,{debounce:0,onResize:w})),S("header",{class:_.value,style:g.value,onFocusin:q},a)}}}),Be=Q({name:"QFooter",props:{modelValue:{type:Boolean,default:!0},reveal:Boolean,bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},emits:["reveal","focusin"],setup(e,{slots:d,emit:l}){const{proxy:{$q:n}}=P(),t=Y(N,L);if(t===L)return console.error("QFooter needs to be child of QLayout"),L;const f=V(parseInt(e.heightHint,10)),s=V(!0),b=V(j.value===!0||t.isContainer.value===!0?0:window.innerHeight),c=h(()=>e.reveal===!0||t.view.value.indexOf("F")!==-1||n.platform.is.ios&&t.isContainer.value===!0),i=h(()=>t.isContainer.value===!0?t.containerHeight.value:b.value),v=h(()=>{if(e.modelValue!==!0)return 0;if(c.value===!0)return s.value===!0?f.value:0;const o=t.scroll.value.position+i.value+f.value-t.height.value;return o>0?o:0}),_=h(()=>e.modelValue!==!0||c.value===!0&&s.value!==!0),g=h(()=>e.modelValue===!0&&_.value===!0&&e.reveal===!0),r=h(()=>"q-footer q-layout__section--marginal "+(c.value===!0?"fixed":"absolute")+"-bottom"+(e.bordered===!0?" q-footer--bordered":"")+(_.value===!0?" q-footer--hidden":"")+(e.modelValue!==!0?" q-layout--prevent-focus"+(c.value!==!0?" hidden":""):"")),x=h(()=>{const o=t.rows.value.bottom,p={};return o[0]==="l"&&t.left.space===!0&&(p[n.lang.rtl===!0?"right":"left"]=`${t.left.size}px`),o[2]==="r"&&t.right.space===!0&&(p[n.lang.rtl===!0?"left":"right"]=`${t.right.size}px`),p});function w(o,p){t.update("footer",o,p)}function q(o,p){o.value!==p&&(o.value=p)}function y({height:o}){q(f,o),w("size",o)}function a(){if(e.reveal!==!0)return;const{direction:o,position:p,inflectionPoint:T}=t.scroll.value;q(s,o==="up"||p-T<100||t.height.value-i.value-p-f.value<300)}function B(o){g.value===!0&&q(s,!0),l("focusin",o)}C(()=>e.modelValue,o=>{w("space",o),q(s,!0),t.animate()}),C(v,o=>{w("offset",o)}),C(()=>e.reveal,o=>{o===!1&&q(s,e.modelValue)}),C(s,o=>{t.animate(),l("reveal",o)}),C([f,t.scroll,t.height],a),C(()=>n.screen.height,o=>{t.isContainer.value!==!0&&q(b,o)});const u={};return t.instances.footer=u,e.modelValue===!0&&w("size",f.value),w("space",e.modelValue),w("offset",v.value),H(()=>{t.instances.footer===u&&(t.instances.footer=void 0,w("size",0),w("offset",0),w("space",!1))}),()=>{const o=W(d.default,[S(F,{debounce:0,onResize:y})]);return e.elevated===!0&&o.push(S("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),S("footer",{class:r.value,style:x.value,onFocusin:B},o)}}});const{passive:K}=I,qe=["both","horizontal","vertical"];var Te=Q({name:"QScrollObserver",props:{axis:{type:String,validator:e=>qe.includes(e),default:"vertical"},debounce:[String,Number],scrollTarget:{default:void 0}},emits:["scroll"],setup(e,{emit:d}){const l={position:{top:0,left:0},direction:"down",directionChanged:!1,delta:{top:0,left:0},inflectionPoint:{top:0,left:0}};let n=null,t,f;C(()=>e.scrollTarget,()=>{c(),b()});function s(){n!==null&&n();const _=Math.max(0,re(t)),g=se(t),r={top:_-l.position.top,left:g-l.position.left};if(e.axis==="vertical"&&r.top===0||e.axis==="horizontal"&&r.left===0)return;const x=Math.abs(r.top)>=Math.abs(r.left)?r.top<0?"up":"down":r.left<0?"left":"right";l.position={top:_,left:g},l.directionChanged=l.direction!==x,l.delta=r,l.directionChanged===!0&&(l.direction=x,l.inflectionPoint=l.position),d("scroll",{...l})}function b(){t=ie(f,e.scrollTarget),t.addEventListener("scroll",i,K),i(!0)}function c(){t!==void 0&&(t.removeEventListener("scroll",i,K),t=void 0)}function i(_){if(_===!0||e.debounce===0||e.debounce==="0")s();else if(n===null){const[g,r]=e.debounce?[setTimeout(s,e.debounce),clearTimeout]:[requestAnimationFrame(s),cancelAnimationFrame];n=()=>{r(g),n=null}}}const{proxy:v}=P();return C(()=>v.$q.lang.rtl,s),E(()=>{f=v.$el.parentNode,b()}),H(()=>{n!==null&&n(),c()}),Object.assign(v,{trigger:i,getPosition:()=>l}),X}}),ke=Q({name:"QLayout",props:{container:Boolean,view:{type:String,default:"hhh lpr fff",validator:e=>/^(h|l)h(h|r) lpr (f|l)f(f|r)$/.test(e.toLowerCase())},onScroll:Function,onScrollHeight:Function,onResize:Function},setup(e,{slots:d,emit:l}){const{proxy:{$q:n}}=P(),t=V(null),f=V(n.screen.height),s=V(e.container===!0?0:n.screen.width),b=V({position:0,direction:"down",inflectionPoint:0}),c=V(0),i=V(j.value===!0?0:D()),v=h(()=>"q-layout q-layout--"+(e.container===!0?"containerized":"standard")),_=h(()=>e.container===!1?{minHeight:n.screen.height+"px"}:null),g=h(()=>i.value!==0?{[n.lang.rtl===!0?"left":"right"]:`${i.value}px`}:null),r=h(()=>i.value!==0?{[n.lang.rtl===!0?"right":"left"]:0,[n.lang.rtl===!0?"left":"right"]:`-${i.value}px`,width:`calc(100% + ${i.value}px)`}:null);function x(u){if(e.container===!0||document.qScrollPrevented!==!0){const o={position:u.position.top,direction:u.direction,directionChanged:u.directionChanged,inflectionPoint:u.inflectionPoint.top,delta:u.delta.top};b.value=o,e.onScroll!==void 0&&l("scroll",o)}}function w(u){const{height:o,width:p}=u;let T=!1;f.value!==o&&(T=!0,f.value=o,e.onScrollHeight!==void 0&&l("scrollHeight",o),y()),s.value!==p&&(T=!0,s.value=p),T===!0&&e.onResize!==void 0&&l("resize",u)}function q({height:u}){c.value!==u&&(c.value=u,y())}function y(){if(e.container===!0){const u=f.value>c.value?D():0;i.value!==u&&(i.value=u)}}let a=null;const B={instances:{},view:h(()=>e.view),isContainer:h(()=>e.container),rootRef:t,height:f,containerHeight:c,scrollbarWidth:i,totalWidth:h(()=>s.value+i.value),rows:h(()=>{const u=e.view.toLowerCase().split(" ");return{top:u[0].split(""),middle:u[1].split(""),bottom:u[2].split("")}}),header:O({size:0,offset:0,space:!1}),right:O({size:300,offset:0,space:!1}),footer:O({size:0,offset:0,space:!1}),left:O({size:300,offset:0,space:!1}),scroll:b,animate(){a!==null?clearTimeout(a):document.body.classList.add("q-body--layout-animate"),a=setTimeout(()=>{a=null,document.body.classList.remove("q-body--layout-animate")},155)},update(u,o,p){B[u][o]=p}};if(ue(N,B),D()>0){let p=function(){u=null,o.classList.remove("hide-scrollbar")},T=function(){if(u===null){if(o.scrollHeight>n.screen.height)return;o.classList.add("hide-scrollbar")}else clearTimeout(u);u=setTimeout(p,300)},A=function(U){u!==null&&U==="remove"&&(clearTimeout(u),p()),window[`${U}EventListener`]("resize",T)},u=null;const o=document.body;C(()=>e.container!==!0?"add":"remove",A),e.container!==!0&&A("add"),ce(()=>{A("remove")})}return()=>{const u=W(d.default,[S(Te,{onScroll:x}),S(F,{onResize:w})]),o=S("div",{class:v.value,style:_.value,ref:e.container===!0?void 0:t,tabindex:-1},u);return e.container===!0?S("div",{class:"q-layout-container overflow-hidden",ref:t},[S(F,{onResize:q}),S("div",{class:"absolute-full",style:g.value},[S("div",{class:"scroll",style:r.value},[o])])]):o}}});const Le=fe({name:"MainLayout",computed:{...ve({selected_local:e=>e.ui_local.status,user:e=>e.user.USER})},data:function(){return{ui_local:V("cn"),tip:V(!0)}},watch:{ui_local:function(e){this.change_local(e)}},mounted(){this.user.USER_PW!=""&&this.serverLogin(),this.selected_local==""&&this.change_local("cn"),setTimeout(()=>{this.tip=!1},5e3)},methods:{change_local(e){e=="cn"?(this.ui_local="cn",this.$store.dispatch("ui_local/setcnAction")):(this.ui_local="ko",this.$store.dispatch("ui_local/setkoAction"))},async serverLogin(){const e={user_id:this.user.USER_ID,user_pw:this.user.USER_PW};try{let l=await _e({url:`${xe.server}/login`,method:"POST",headers:{"Access-Control-Allow-Headers":"*","Content-Type":"application/json"},data:e});console.log("Login successful:",l.data);var d=l.data;d.user_pw=e.user_pw,this.$store.dispatch("user/loginAction",{data:d,that:this})}catch(l){l.response?l.response.status===400?console.error("Error 400: Bad Request. Please check your input data."):console.error(`Error ${l.response.status}:`,l.response.data):l.request?console.error("No response received from the server. Please check your network connection."):console.error("Error during request setup:",l.message)}},loadingProducts(){this.loaded=!1,setTimeout(this.loaded=!0,3e3)}},setup(){return{tab:V("food"),loaded:V(!1)}}});function Qe(e,d,l,n,t,f){const s=he("router-view");return ge(),me(ke,{view:"hHh LpR fFf"},{default:z(()=>[m(Ce,{elevated:"",class:"bg-primary",style:{height:"min-content"}},{default:z(()=>[m(G,null,{default:z(()=>[m(ze,{class:"text-black text-bold row justify-start"},{default:z(()=>[m(k,{clickable:"",tag:"a",to:"/ProductList",class:"col-2"},{default:z(()=>[m(ee,{src:"icons\\app-icon.png",class:"rounded-borders q-pa-xs",ratio:1})]),_:1}),m(k,{class:"col-2"},{default:z(()=>[m(Se,{modelValue:e.ui_local,"onUpdate:modelValue":d[0]||(d[0]=b=>e.ui_local=b),glossy:"",rounded:"",class:"text-bold","toggle-color":"secondary",color:"grey-8","text-color":"black","toggle-text-color":"primary",options:[{label:"\uD55C",value:"ko"},{label:"\u6C49",value:"cn"}]},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1}),m(we,null,{default:z(()=>[m(s)]),_:1}),m(Be,null,{default:z(()=>[m(G,{class:"row justify-center bg-secondary"},{default:z(()=>[m(k,{class:"col-3",clickable:"",tag:"a",to:"/ProductList",onClick:e.loadingProducts},{default:z(()=>[m(R,null,{default:z(()=>[m($,{size:"16px",style:{width:"60px"},icon:"home",flat:"","no-wrap":"",stack:"",label:e.selected_local.food},null,8,["label"]),m(te,{removable:"",modelValue:e.tip,"onUpdate:modelValue":d[1]||(d[1]=b=>e.tip=b),onRemove:d[2]||(d[2]=b=>e.log("tip")),color:"white","text-color":"black"},{default:z(()=>[be(ye(e.selected_local.chinafood=="\u6D3D\u6D3D\u4E2D\u56FD\u98DF\u54C1"?"\u98DF\u54C1\u9875\u9762\u5546\u54C1\u6570\u91CF\u8D85\u8FC7500\u79CD\uFF0C\u56E0\u6B64\u8BFB\u53D6\u5546\u54C1\u8FC7\u7A0B\u4E2D\u4F1A\u67093\u81F35\u79D2\u7684\u5EF6\u8FDF\u3002\u656C\u8BF7\u8C05\u89E3\u3002":"\uC2DD\uD488\uD398\uC774\uC9C0\uC5D0\uB294 \uC0C1\uD488\uC774 500\uAC00\uC9C0\uB97C \uB118\uC2B5\uB2C8\uB2E4. \uADF8\uB798\uC11C \uC0C1\uD488 \uB85C\uB529 \uC911 3~5\uCD08\uAC04 \uC9C0\uC5F0\uC774 \uBC1C\uC0DD\uD560 \uC218 \uC788\uC2B5\uB2C8\uB2E4. \uC591\uD574\uBD80\uD0C1\uB4DC\uB9BD\uB2C8\uB2E4."),1)]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["onClick"]),m(k,{class:"col-3",clickable:"",tag:"a",to:"/OrderList"},{default:z(()=>[m(R,null,{default:z(()=>[m($,{size:"16px",style:{width:"60px"},icon:"shopping_cart",flat:"","no-wrap":"",stack:"",label:e.selected_local.couter},null,8,["label"])]),_:1})]),_:1}),m(k,{class:"col-3",clickable:"",tag:"a",to:"/DeliveryInfo"},{default:z(()=>[m(R,null,{default:z(()=>[m($,{size:"16px",style:{width:"60px"},icon:"local_shipping",flat:"","no-wrap":"",stack:"",label:e.selected_local.deliver},null,8,["label"])]),_:1})]),_:1}),m(k,{class:"col-3",clickable:"",tag:"a",to:"/UserInfo"},{default:z(()=>[m(R,null,{default:z(()=>[m($,{size:"16px",style:{width:"60px"},icon:"contacts",flat:"","no-wrap":"",stack:"",label:e.selected_local.myinfo},null,8,["label"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}var De=de(Le,[["render",Qe]]);export{De as default};
