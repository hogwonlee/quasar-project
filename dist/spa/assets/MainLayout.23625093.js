import{c as T,u as oe,a as h,g as le,h as S,Q as H,b as j,d as ae,r as V,i as U,o as R,e as Q,n as Z,f as J,j as P,l as W,k as ee,m as L,w as B,p as ne,q as M,s as re,t as ie,v as se,x as N,y as E,z as ue,A as ce,_ as de,B as fe,C as ve,D as he,E as ge,F as me,G as _,H as m,I as be,J as pe}from"./index.99d44683.js";import{Q as k,a as O}from"./QItemSection.4e1b53c7.js";import{Q as ye,a as we}from"./QPageContainer.28495315.js";import{Q as _e}from"./QToolbarTitle.fbf84c83.js";import{Q as K}from"./QToolbar.f058d55c.js";import{a as D}from"./axios.37d53be1.js";import{c as I}from"./index.72c2906b.js";var xe=T({name:"QBtnToggle",props:{...oe,modelValue:{required:!0},options:{type:Array,required:!0,validator:e=>e.every(d=>("label"in d||"icon"in d||"slot"in d)&&"value"in d)},color:String,textColor:String,toggleColor:{type:String,default:"primary"},toggleTextColor:String,outline:Boolean,flat:Boolean,unelevated:Boolean,rounded:Boolean,push:Boolean,glossy:Boolean,size:String,padding:String,noCaps:Boolean,noWrap:Boolean,dense:Boolean,readonly:Boolean,disable:Boolean,stack:Boolean,stretch:Boolean,spread:Boolean,clearable:Boolean,ripple:{type:[Boolean,Object],default:!0}},emits:["update:modelValue","clear","click"],setup(e,{slots:d,emit:l}){const o=h(()=>e.options.find(g=>g.value===e.modelValue)!==void 0),t=h(()=>({type:"hidden",name:e.name,value:e.modelValue})),f=ae(t),s=h(()=>le(e)),p=h(()=>({rounded:e.rounded,dense:e.dense,...s.value})),c=h(()=>e.options.map((g,i)=>{const{attrs:z,value:w,slot:q,...b}=g;return{slot:q,props:{key:i,"aria-pressed":w===e.modelValue?"true":"false",...z,...b,...p.value,disable:e.disable===!0||b.disable===!0,color:w===e.modelValue?v(b,"toggleColor"):v(b,"color"),textColor:w===e.modelValue?v(b,"toggleTextColor"):v(b,"textColor"),noCaps:v(b,"noCaps")===!0,noWrap:v(b,"noWrap")===!0,size:v(b,"size"),padding:v(b,"padding"),ripple:v(b,"ripple"),stack:v(b,"stack")===!0,stretch:v(b,"stretch")===!0,onClick(n){r(w,g,n)}}}}));function r(g,i,z){e.readonly!==!0&&(e.modelValue===g?e.clearable===!0&&(l("update:modelValue",null,null),l("clear")):l("update:modelValue",g,i),l("click",z))}function v(g,i){return g[i]===void 0?e[i]:g[i]}function x(){const g=c.value.map(i=>S(H,i.props,i.slot!==void 0?d[i.slot]:void 0));return e.name!==void 0&&e.disable!==!0&&o.value===!0&&f(g,"push"),j(d.default,g)}return()=>S(ye,{class:"q-btn-toggle",...s.value,rounded:e.rounded,stretch:e.stretch,glossy:e.glossy,spread:e.spread},x)}});function ze(){const e=V(!U.value);return e.value===!1&&R(()=>{e.value=!0}),{isHydrated:e}}const te=typeof ResizeObserver!="undefined",X=te===!0?{}:{style:"display:block;position:absolute;top:0;left:0;right:0;bottom:0;height:100%;width:100%;overflow:hidden;pointer-events:none;z-index:-1;",url:"about:blank"};var F=T({name:"QResizeObserver",props:{debounce:{type:[String,Number],default:100}},emits:["resize"],setup(e,{emit:d}){let l=null,o,t={width:-1,height:-1};function f(c){c===!0||e.debounce===0||e.debounce==="0"?s():l===null&&(l=setTimeout(s,e.debounce))}function s(){if(l!==null&&(clearTimeout(l),l=null),o){const{offsetWidth:c,offsetHeight:r}=o;(c!==t.width||r!==t.height)&&(t={width:c,height:r},d("resize",t))}}const{proxy:p}=P();if(p.trigger=f,te===!0){let c;const r=v=>{o=p.$el.parentNode,o?(c=new ResizeObserver(f),c.observe(o),s()):v!==!0&&J(()=>{r(!0)})};return R(()=>{r()}),Q(()=>{l!==null&&clearTimeout(l),c!==void 0&&(c.disconnect!==void 0?c.disconnect():o&&c.unobserve(o))}),Z}else{let v=function(){l!==null&&(clearTimeout(l),l=null),r!==void 0&&(r.removeEventListener!==void 0&&r.removeEventListener("resize",f,W.passive),r=void 0)},x=function(){v(),o&&o.contentDocument&&(r=o.contentDocument.defaultView,r.addEventListener("resize",f,W.passive),s())};const{isHydrated:c}=ze();let r;return R(()=>{J(()=>{o=p.$el,o&&x()})}),Q(v),()=>{if(c.value===!0)return S("object",{class:"q--avoid-card-border",style:X.style,tabindex:-1,type:"text/html",data:X.url,"aria-hidden":"true",onLoad:x})}}}}),Se=T({name:"QHeader",props:{modelValue:{type:Boolean,default:!0},reveal:Boolean,revealOffset:{type:Number,default:250},bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},emits:["reveal","focusin"],setup(e,{slots:d,emit:l}){const{proxy:{$q:o}}=P(),t=ee(M,L);if(t===L)return console.error("QHeader needs to be child of QLayout"),L;const f=V(parseInt(e.heightHint,10)),s=V(!0),p=h(()=>e.reveal===!0||t.view.value.indexOf("H")!==-1||o.platform.is.ios&&t.isContainer.value===!0),c=h(()=>{if(e.modelValue!==!0)return 0;if(p.value===!0)return s.value===!0?f.value:0;const n=f.value-t.scroll.value.position;return n>0?n:0}),r=h(()=>e.modelValue!==!0||p.value===!0&&s.value!==!0),v=h(()=>e.modelValue===!0&&r.value===!0&&e.reveal===!0),x=h(()=>"q-header q-layout__section--marginal "+(p.value===!0?"fixed":"absolute")+"-top"+(e.bordered===!0?" q-header--bordered":"")+(r.value===!0?" q-header--hidden":"")+(e.modelValue!==!0?" q-layout--prevent-focus":"")),g=h(()=>{const n=t.rows.value.top,C={};return n[0]==="l"&&t.left.space===!0&&(C[o.lang.rtl===!0?"right":"left"]=`${t.left.size}px`),n[2]==="r"&&t.right.space===!0&&(C[o.lang.rtl===!0?"left":"right"]=`${t.right.size}px`),C});function i(n,C){t.update("header",n,C)}function z(n,C){n.value!==C&&(n.value=C)}function w({height:n}){z(f,n),i("size",n)}function q(n){v.value===!0&&z(s,!0),l("focusin",n)}B(()=>e.modelValue,n=>{i("space",n),z(s,!0),t.animate()}),B(c,n=>{i("offset",n)}),B(()=>e.reveal,n=>{n===!1&&z(s,e.modelValue)}),B(s,n=>{t.animate(),l("reveal",n)}),B(t.scroll,n=>{e.reveal===!0&&z(s,n.direction==="up"||n.position<=e.revealOffset||n.position-n.inflectionPoint<100)});const b={};return t.instances.header=b,e.modelValue===!0&&i("size",f.value),i("space",e.modelValue),i("offset",c.value),Q(()=>{t.instances.header===b&&(t.instances.header=void 0,i("size",0),i("offset",0),i("space",!1))}),()=>{const n=ne(d.default,[]);return e.elevated===!0&&n.push(S("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),n.push(S(F,{debounce:0,onResize:w})),S("header",{class:x.value,style:g.value,onFocusin:q},n)}}}),Ve=T({name:"QFooter",props:{modelValue:{type:Boolean,default:!0},reveal:Boolean,bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},emits:["reveal","focusin"],setup(e,{slots:d,emit:l}){const{proxy:{$q:o}}=P(),t=ee(M,L);if(t===L)return console.error("QFooter needs to be child of QLayout"),L;const f=V(parseInt(e.heightHint,10)),s=V(!0),p=V(U.value===!0||t.isContainer.value===!0?0:window.innerHeight),c=h(()=>e.reveal===!0||t.view.value.indexOf("F")!==-1||o.platform.is.ios&&t.isContainer.value===!0),r=h(()=>t.isContainer.value===!0?t.containerHeight.value:p.value),v=h(()=>{if(e.modelValue!==!0)return 0;if(c.value===!0)return s.value===!0?f.value:0;const a=t.scroll.value.position+r.value+f.value-t.height.value;return a>0?a:0}),x=h(()=>e.modelValue!==!0||c.value===!0&&s.value!==!0),g=h(()=>e.modelValue===!0&&x.value===!0&&e.reveal===!0),i=h(()=>"q-footer q-layout__section--marginal "+(c.value===!0?"fixed":"absolute")+"-bottom"+(e.bordered===!0?" q-footer--bordered":"")+(x.value===!0?" q-footer--hidden":"")+(e.modelValue!==!0?" q-layout--prevent-focus"+(c.value!==!0?" hidden":""):"")),z=h(()=>{const a=t.rows.value.bottom,y={};return a[0]==="l"&&t.left.space===!0&&(y[o.lang.rtl===!0?"right":"left"]=`${t.left.size}px`),a[2]==="r"&&t.right.space===!0&&(y[o.lang.rtl===!0?"left":"right"]=`${t.right.size}px`),y});function w(a,y){t.update("footer",a,y)}function q(a,y){a.value!==y&&(a.value=y)}function b({height:a}){q(f,a),w("size",a)}function n(){if(e.reveal!==!0)return;const{direction:a,position:y,inflectionPoint:$}=t.scroll.value;q(s,a==="up"||y-$<100||t.height.value-r.value-y-f.value<300)}function C(a){g.value===!0&&q(s,!0),l("focusin",a)}B(()=>e.modelValue,a=>{w("space",a),q(s,!0),t.animate()}),B(v,a=>{w("offset",a)}),B(()=>e.reveal,a=>{a===!1&&q(s,e.modelValue)}),B(s,a=>{t.animate(),l("reveal",a)}),B([f,t.scroll,t.height],n),B(()=>o.screen.height,a=>{t.isContainer.value!==!0&&q(p,a)});const u={};return t.instances.footer=u,e.modelValue===!0&&w("size",f.value),w("space",e.modelValue),w("offset",v.value),Q(()=>{t.instances.footer===u&&(t.instances.footer=void 0,w("size",0),w("offset",0),w("space",!1))}),()=>{const a=j(d.default,[S(F,{debounce:0,onResize:b})]);return e.elevated===!0&&a.push(S("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),S("footer",{class:i.value,style:z.value,onFocusin:C},a)}}});const{passive:Y}=W,Be=["both","horizontal","vertical"];var Ce=T({name:"QScrollObserver",props:{axis:{type:String,validator:e=>Be.includes(e),default:"vertical"},debounce:[String,Number],scrollTarget:{default:void 0}},emits:["scroll"],setup(e,{emit:d}){const l={position:{top:0,left:0},direction:"down",directionChanged:!1,delta:{top:0,left:0},inflectionPoint:{top:0,left:0}};let o=null,t,f;B(()=>e.scrollTarget,()=>{c(),p()});function s(){o!==null&&o();const x=Math.max(0,ie(t)),g=se(t),i={top:x-l.position.top,left:g-l.position.left};if(e.axis==="vertical"&&i.top===0||e.axis==="horizontal"&&i.left===0)return;const z=Math.abs(i.top)>=Math.abs(i.left)?i.top<0?"up":"down":i.left<0?"left":"right";l.position={top:x,left:g},l.directionChanged=l.direction!==z,l.delta=i,l.directionChanged===!0&&(l.direction=z,l.inflectionPoint=l.position),d("scroll",{...l})}function p(){t=re(f,e.scrollTarget),t.addEventListener("scroll",r,Y),r(!0)}function c(){t!==void 0&&(t.removeEventListener("scroll",r,Y),t=void 0)}function r(x){if(x===!0||e.debounce===0||e.debounce==="0")s();else if(o===null){const[g,i]=e.debounce?[setTimeout(s,e.debounce),clearTimeout]:[requestAnimationFrame(s),cancelAnimationFrame];o=()=>{i(g),o=null}}}const{proxy:v}=P();return B(()=>v.$q.lang.rtl,s),R(()=>{f=v.$el.parentNode,p()}),Q(()=>{o!==null&&o(),c()}),Object.assign(v,{trigger:r,getPosition:()=>l}),Z}}),qe=T({name:"QLayout",props:{container:Boolean,view:{type:String,default:"hhh lpr fff",validator:e=>/^(h|l)h(h|r) lpr (f|l)f(f|r)$/.test(e.toLowerCase())},onScroll:Function,onScrollHeight:Function,onResize:Function},setup(e,{slots:d,emit:l}){const{proxy:{$q:o}}=P(),t=V(null),f=V(o.screen.height),s=V(e.container===!0?0:o.screen.width),p=V({position:0,direction:"down",inflectionPoint:0}),c=V(0),r=V(U.value===!0?0:N()),v=h(()=>"q-layout q-layout--"+(e.container===!0?"containerized":"standard")),x=h(()=>e.container===!1?{minHeight:o.screen.height+"px"}:null),g=h(()=>r.value!==0?{[o.lang.rtl===!0?"left":"right"]:`${r.value}px`}:null),i=h(()=>r.value!==0?{[o.lang.rtl===!0?"right":"left"]:0,[o.lang.rtl===!0?"left":"right"]:`-${r.value}px`,width:`calc(100% + ${r.value}px)`}:null);function z(u){if(e.container===!0||document.qScrollPrevented!==!0){const a={position:u.position.top,direction:u.direction,directionChanged:u.directionChanged,inflectionPoint:u.inflectionPoint.top,delta:u.delta.top};p.value=a,e.onScroll!==void 0&&l("scroll",a)}}function w(u){const{height:a,width:y}=u;let $=!1;f.value!==a&&($=!0,f.value=a,e.onScrollHeight!==void 0&&l("scrollHeight",a),b()),s.value!==y&&($=!0,s.value=y),$===!0&&e.onResize!==void 0&&l("resize",u)}function q({height:u}){c.value!==u&&(c.value=u,b())}function b(){if(e.container===!0){const u=f.value>c.value?N():0;r.value!==u&&(r.value=u)}}let n=null;const C={instances:{},view:h(()=>e.view),isContainer:h(()=>e.container),rootRef:t,height:f,containerHeight:c,scrollbarWidth:r,totalWidth:h(()=>s.value+r.value),rows:h(()=>{const u=e.view.toLowerCase().split(" ");return{top:u[0].split(""),middle:u[1].split(""),bottom:u[2].split("")}}),header:E({size:0,offset:0,space:!1}),right:E({size:300,offset:0,space:!1}),footer:E({size:0,offset:0,space:!1}),left:E({size:300,offset:0,space:!1}),scroll:p,animate(){n!==null?clearTimeout(n):document.body.classList.add("q-body--layout-animate"),n=setTimeout(()=>{n=null,document.body.classList.remove("q-body--layout-animate")},155)},update(u,a,y){C[u][a]=y}};if(ue(M,C),N()>0){let y=function(){u=null,a.classList.remove("hide-scrollbar")},$=function(){if(u===null){if(a.scrollHeight>o.screen.height)return;a.classList.add("hide-scrollbar")}else clearTimeout(u);u=setTimeout(y,300)},A=function(G){u!==null&&G==="remove"&&(clearTimeout(u),y()),window[`${G}EventListener`]("resize",$)},u=null;const a=document.body;B(()=>e.container!==!0?"add":"remove",A),e.container!==!0&&A("add"),ce(()=>{A("remove")})}return()=>{const u=j(d.default,[S(Ce,{onScroll:z}),S(F,{onResize:w})]),a=S("div",{class:v.value,style:x.value,ref:e.container===!0?void 0:t,tabindex:-1},u);return e.container===!0?S("div",{class:"q-layout-container overflow-hidden",ref:t},[S(F,{onResize:q}),S("div",{class:"absolute-full",style:g.value},[S("div",{class:"scroll",style:i.value},[a])])]):a}}});const $e=fe({name:"MainLayout",computed:{...ve({selected_local:e=>e.ui_local.status,user:e=>e.user.USER,products:e=>e.products.all,storeversion:e=>e.products.version,products_status:e=>e.products.status})},data:function(){return{ui_local:V("cn")}},watch:{ui_local:function(e){this.change_local(e)}},mounted(){this.user.USER_PW!=""&&this.serverLogin(),this.selected_local==""&&this.change_local("cn"),D.get(`${I.server}/storeVersion`).then(e=>{const d=e.data.results;if(console.log("\uC0C1\uC810\uBC84\uC804: "+d+" / results"+JSON.stringify(e.data.results)),d>this.storeversion){this.$store.dispatch("category/resetStoreAction");const l={list_index_min:0,list_index_max:2e4};try{D({url:`${I.server}/productList`,method:"GET",params:l}).then(o=>{o.data.results.length>0?(o.data.results.map(t=>{this.$store.dispatch("products/getProductAction",t)}),this.$store.dispatch("products/getVersionAction",d)):console.log("error: \uC5C5\uB370\uC774\uD2B8 \uBC1B\uC744 \uC0C1\uD488\uC774 \uC5C6\uC2B5\uB2C8\uB2E4.")}).catch(o=>{o.response?o.response.status===400?console.error("Error 400: Bad Request. Check your request parameters (params).",o.response.data):console.error(`Error ${o.response.status}:`,o.response.data):o.request?console.error("No response received from the server. Please check your network connection."):console.error("Error during request setup:",o.message)})}catch(o){console.error("Error fetching products:",o)}}else console.log("\uC774\uBBF8 \uBAA8\uB4E0 \uC0C1\uD488\uC744 \uAC00\uC838\uC654\uC2B5\uB2C8\uB2E4.")}).catch(e=>{console.error("Error fetching products:",e)})},methods:{change_local(e){e=="cn"?(this.ui_local="cn",this.$store.dispatch("ui_local/setcnAction")):(this.ui_local="ko",this.$store.dispatch("ui_local/setkoAction"))},async serverLogin(){const e={user_id:this.user.USER_ID,user_pw:this.user.USER_PW};try{let l=await D({url:`${I.server}/login`,method:"POST",headers:{"Access-Control-Allow-Headers":"*","Content-Type":"application/json"},data:e});console.log("Login successful:",l.data);var d=l.data;d.user_pw=e.user_pw,this.$store.dispatch("user/loginAction",{data:d,that:this})}catch(l){l.response?l.response.status===400?console.error("Error 400: Bad Request. Please check your input data."):console.error(`Error ${l.response.status}:`,l.response.data):l.request?console.error("No response received from the server. Please check your network connection."):console.error("Error during request setup:",l.message)}}},setup(){return{tab:V("food")}}}),ke=pe("img",{src:"/images/app-icon.png"},null,-1);function Le(e,d,l,o,t,f){const s=he("router-view");return ge(),me(qe,{view:"hHh LpR fFf"},{default:_(()=>[m(Se,{elevated:"",class:"bg-primary",style:{height:"min-content"}},{default:_(()=>[m(K,null,{default:_(()=>[m(_e,{class:"text-black text-bold row justify-start"},{default:_(()=>[m(k,{clickable:"",tag:"a",to:"/HomePage",class:"col-2"},{default:_(()=>[m(be,null,{default:_(()=>[ke]),_:1})]),_:1}),m(k,{class:"col-2"},{default:_(()=>[m(xe,{modelValue:e.ui_local,"onUpdate:modelValue":d[0]||(d[0]=p=>e.ui_local=p),glossy:"",rounded:"",class:"text-bold","toggle-color":"secondary",color:"grey-8","text-color":"black","toggle-text-color":"primary",options:[{label:"\uD55C",value:"ko"},{label:"\u6C49",value:"cn"}]},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1}),m(we,null,{default:_(()=>[m(s)]),_:1}),m(Ve,null,{default:_(()=>[m(K,{class:"row justify-center bg-secondary"},{default:_(()=>[m(k,{class:"col-3",clickable:"",tag:"a",to:"/ProductList"},{default:_(()=>[m(O,null,{default:_(()=>[m(H,{size:"16px",style:{width:"60px"},icon:"home",flat:"","no-wrap":"",stack:"",label:e.selected_local.food},null,8,["label"])]),_:1})]),_:1}),m(k,{class:"col-3",clickable:"",tag:"a",to:"/OrderList"},{default:_(()=>[m(O,null,{default:_(()=>[m(H,{size:"16px",style:{width:"60px"},icon:"shopping_cart",flat:"","no-wrap":"",stack:"",label:e.selected_local.couter},null,8,["label"])]),_:1})]),_:1}),m(k,{class:"col-3",clickable:"",tag:"a",to:"/DeliveryInfo"},{default:_(()=>[m(O,null,{default:_(()=>[m(H,{size:"16px",style:{width:"60px"},icon:"local_shipping",flat:"","no-wrap":"",stack:"",label:e.selected_local.deliver},null,8,["label"])]),_:1})]),_:1}),m(k,{class:"col-3",clickable:"",tag:"a",to:"/UserInfo"},{default:_(()=>[m(O,null,{default:_(()=>[m(H,{size:"16px",style:{width:"60px"},icon:"contacts",flat:"","no-wrap":"",stack:"",label:e.selected_local.myinfo},null,8,["label"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}var Fe=de($e,[["render",Le]]);export{Fe as default};
