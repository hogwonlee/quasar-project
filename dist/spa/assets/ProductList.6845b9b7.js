import{c as V,L as M,N as j,a as k,h,e as E,k as L,S as F,T as te,U as oe,V as ae,W as U,r as y,X as le,g as ne,w as R,o as se,Y as W,Q as p,Z as re,_ as ie,C as de,D as ue,E as ce,F as g,$ as w,a0 as m,I as o,H as s,a1 as ge,a2 as D,a3 as $,a4 as x,a5 as N,a6 as he,a7 as me,a8 as C,a9 as fe,G as S,aa as O,ab as ye,ac as z,ad as be,ae as v,J as ve}from"./index.8c378c1b.js";import{Q as P}from"./QSpace.8feb197b.js";import{Q as H}from"./QBar.23df433e.js";import{Q as pe,a as q,b as we,c as ke}from"./QChip.61d59ec7.js";import{Q as Se,a as _e}from"./QPageContainer.14bbca78.js";import{Q as qe,a as xe}from"./QItem.0fb70065.js";import{Q as Ce}from"./QBadge.534bb51f.js";import{C as Qe}from"./ClosePopup.3ff59293.js";import{P as Be}from"./ProductInfo.a75e1f15.js";import{a as De}from"./axios.37d53be1.js";import{a as $e}from"./alert.ef600811.js";import"./selection.73e6e433.js";import"./QImg.616127d0.js";const ze=["text","rect","circle","QBtn","QBadge","QChip","QToolbar","QCheckbox","QRadio","QToggle","QSlider","QRange","QInput","QAvatar"],Pe=["wave","pulse","pulse-x","pulse-y","fade","blink","none"];var d=V({name:"QSkeleton",props:{...M,tag:{type:String,default:"div"},type:{type:String,validator:e=>ze.includes(e),default:"rect"},animation:{type:String,validator:e=>Pe.includes(e),default:"wave"},animationSpeed:{type:[String,Number],default:1500},square:Boolean,bordered:Boolean,size:String,width:String,height:String},setup(e,{slots:t}){const a=L(),r=j(e,a.proxy.$q),c=k(()=>{const b=e.size!==void 0?[e.size,e.size]:[e.width,e.height];return{"--q-skeleton-speed":`${e.animationSpeed}ms`,width:b[0],height:b[1]}}),i=k(()=>`q-skeleton q-skeleton--${r.value===!0?"dark":"light"} q-skeleton--type-${e.type}`+(e.animation!=="none"?` q-skeleton--anim q-skeleton--anim-${e.animation}`:"")+(e.square===!0?" q-skeleton--square":"")+(e.bordered===!0?" q-skeleton--bordered":""));return()=>h(e.tag,{class:i.value,style:c.value},E(t.default))}}),Ie=V({name:"QInnerLoading",props:{...M,...F,showing:Boolean,color:String,size:{type:[String,Number],default:42},label:String,labelClass:String,labelStyle:[String,Array,Object]},setup(e,{slots:t}){const a=L(),r=j(e,a.proxy.$q),{transitionProps:c,transitionStyle:i}=te(e),b=k(()=>"q-inner-loading q--avoid-card-border absolute-full column flex-center"+(r.value===!0?" q-inner-loading--dark":"")),l=k(()=>"q-inner-loading__label"+(e.labelClass!==void 0?` ${e.labelClass}`:""));function u(){const _=[h(ae,{size:e.size,color:e.color})];return e.label!==void 0&&_.push(h("div",{class:l.value,style:e.labelStyle},[e.label])),_}function f(){return e.showing===!0?h("div",{class:b.value,style:i.value},t.default!==void 0?t.default():u()):null}return()=>h(oe,c.value,f)}});const Ae=Object.keys(U);function Ve(e){return Ae.reduce((t,a)=>{const r=e[a];return r!==void 0&&(t[a]=r),t},{})}var Le=V({name:"QBtnDropdown",props:{...U,...F,modelValue:Boolean,split:Boolean,dropdownIcon:String,contentClass:[Array,String,Object],contentStyle:[Array,String,Object],cover:Boolean,persistent:Boolean,noRouteDismiss:Boolean,autoClose:Boolean,menuAnchor:{type:String,default:"bottom end"},menuSelf:{type:String,default:"top end"},menuOffset:Array,disableMainBtn:Boolean,disableDropdown:Boolean,noIconAnimation:Boolean,toggleAriaLabel:String},emits:["update:modelValue","click","beforeShow","show","beforeHide","hide"],setup(e,{slots:t,emit:a}){const{proxy:r}=L(),c=y(e.modelValue),i=y(null),b=le(),l=k(()=>{const n={"aria-expanded":c.value===!0?"true":"false","aria-haspopup":"true","aria-controls":b.value,"aria-label":e.toggleAriaLabel||r.$q.lang.label[c.value===!0?"collapse":"expand"](e.label)};return(e.disable===!0||e.split===!1&&e.disableMainBtn===!0||e.disableDropdown===!0)&&(n["aria-disabled"]="true"),n}),u=k(()=>"q-btn-dropdown__arrow"+(c.value===!0&&e.noIconAnimation===!1?" rotate-180":"")+(e.split===!1?" q-btn-dropdown__arrow-container":"")),f=k(()=>ne(e)),_=k(()=>Ve(e));R(()=>e.modelValue,n=>{i.value!==null&&i.value[n?"show":"hide"]()}),R(()=>e.split,B);function G(n){c.value=!0,a("beforeShow",n)}function J(n){a("show",n),a("update:modelValue",!0)}function X(n){c.value=!1,a("beforeHide",n)}function Y(n){a("hide",n),a("update:modelValue",!1)}function Z(n){a("click",n)}function K(n){re(n),B(),a("click",n)}function ee(n){i.value!==null&&i.value.toggle(n)}function T(n){i.value!==null&&i.value.show(n)}function B(n){i.value!==null&&i.value.hide(n)}return Object.assign(r,{show:T,hide:B,toggle:ee}),se(()=>{e.modelValue===!0&&T()}),()=>{const n=[h(W,{class:u.value,name:e.dropdownIcon||r.$q.iconSet.arrow.dropdown})];return e.disableDropdown!==!0&&n.push(h(pe,{ref:i,id:b.value,class:e.contentClass,style:e.contentStyle,cover:e.cover,fit:!0,persistent:e.persistent,noRouteDismiss:e.noRouteDismiss,autoClose:e.autoClose,anchor:e.menuAnchor,self:e.menuSelf,offset:e.menuOffset,separateClosePopup:!0,transitionShow:e.transitionShow,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,onBeforeShow:G,onShow:J,onBeforeHide:X,onHide:Y},t.default)),e.split===!1?h(p,{class:"q-btn-dropdown q-btn-dropdown--simple",..._.value,...l.value,disable:e.disable===!0||e.disableMainBtn===!0,noWrap:!0,round:!1,onClick:Z},{default:()=>E(t.label,[]).concat(n),loading:t.loading}):h(Se,{class:"q-btn-dropdown q-btn-dropdown--split no-wrap q-btn-item",rounded:e.rounded,square:e.square,...f.value,glossy:e.glossy,stretch:e.stretch},()=>[h(p,{class:"q-btn-dropdown--current",..._.value,disable:e.disable===!0||e.disableMainBtn===!0,noWrap:!0,round:!1,onClick:K},{default:t.label,loading:t.loading}),h(p,{class:"q-btn-dropdown__arrow-container q-anchor--skip",...l.value,...f.value,disable:e.disable===!0||e.disableDropdown===!0,rounded:e.rounded,color:e.color,textColor:e.textColor,dense:e.dense,size:e.size,padding:e.padding,ripple:e.ripple},()=>n)])}}});const{offset:Q}=he,{getScrollTarget:I,setVerticalScrollPosition:A}=me,Te=de({name:"ProductList",components:{ProductInfo:Be},methods:{go_prev_category(){var e=this.category[0].category,t=0,a=-9999;this.category.forEach(i=>{Q(document.querySelector("."+i.category)).top<0&&(t=Q(document.querySelector("."+i.category)).top,t>a&&(a=t,e=i.category))});let r=I(document.querySelector("."+e));const c=300;A(r,document.querySelector("."+e).offsetTop-50,c)},go_next_category(){var e,t=0,a=9999;this.category.forEach(i=>{Q(document.querySelector("."+i.category)).top>100&&(t=Q(document.querySelector("."+i.category)).top,t<a&&(a=t,e=i.category))});let r=I(document.querySelector("."+e));const c=300;A(r,document.querySelector("."+e).offsetTop-50,c)},handleScroll(e){let t=document.querySelector("."+e),a=I(t),r=t.offsetTop-50;A(a,r,300)},products_update(){const e=this.products.length<=0?{version:0}:{version:this.storeversion};De.get("https://cfomarket0.kr:3000/api/productList",{params:e}).then(t=>{if(t.status==200)if(t.data.version==this.storeversion)console.log("no update");else{var a="";this.$store.dispatch("category/emptyStoreAction"),this.$store.dispatch("products/emptyStoreAction"),t.data.results.map(r=>{r.category!=a&&(this.$store.dispatch("category/getCategoryAction",r.category),a=r.category),this.$store.dispatch("products/getProductAction",r)}),this.$store.dispatch("products/getVersionAction",t.data.version)}else $e.confirm(this.selected_local.err,this.selected_local.err+": "+t.data.content)}).catch(t=>{console.log("\uC5D0\uB7EC:"+t)})},setproductbuyoption(e,t){e.buyoption=t},showProductLoading(){this.products.length>0?(this.visible=!1,this.showSimulatedReturnData=!0,setTimeout(()=>{this.products_update()},1e3)):(this.visible=!0,this.showSimulatedReturnData=!1,setTimeout(()=>{this.visible=!1,this.showSimulatedReturnData=!0,this.products_update()},1e3))}},computed:{...ue({checkoutStatus:e=>e.cart.checkoutStatus,category:e=>e.category.items,products:e=>e.products.all,storeversion:e=>e.products.version,products_status:e=>e.products.status,selected_local:e=>e.ui_local.status})},mounted(){this.showProductLoading()},setup(){return{list_show:y(!1),childbuyoption:y("one"),keyword:y(""),event_fab:y(!1),visible:y(!0),showSimulatedReturnData:y(!1),list_col_number:y(3),searchDialog:y(!1)}}}),Re={class:"fixed-top-right z-top q-ma-xs row q-gutter-sm"},Ne={class:"text-h2"},Oe={key:0},He={key:0,class:"col-12 bg-dark text-red"},Me={class:"row q-pa-xs"},je={key:1},Ee={class:"q-gutter-md row inline"},Fe=m("div",null,"\uC911\uAD6D\uC2DD\uD488\uC628\uB77C\uC778",-1),Ue=m("div",null,"\uC774\uD638\uAD8C",-1),We=m("div",null,"010-8492-0526",-1),Ge=m("div",null,"306-37-32411",-1),Je=m("div",null,"\uACBD\uAE30\uB3C4 \uBD80\uCC9C\uC2DC \uC6D0\uBBF8\uAD6C \uBD80\uCC9C\uB85C47\uBC88\uAE38 9, \uC911\uC559\uC790\uC720\uC2DC\uC7A5 15\uD638",-1);function Xe(e,t,a,r,c,i){const b=ce("ProductInfo");return g(),w("div",null,[m("div",Re,[o(p,{icon:"search",size:"12px",flat:"",outline:"",onClick:t[0]||(t[0]=l=>e.searchDialog=!0)})]),o(ge,{class:"z-max",modelValue:e.searchDialog,"onUpdate:modelValue":t[4]||(t[4]=l=>e.searchDialog=l),position:"top"},{default:s(()=>[o(N,{style:{width:"100%"}},{default:s(()=>[m("div",Ne,C(e.selected_local.chinafood=="\u6D3D\u6D3D\u4E2D\u56FD\u98DF\u54C1"?"\u5546\u54C1\u641C\u7D22":"\uC0C1\uD488\uAC80\uC0C9"),1),o(P),o(p,{class:"absolute-top-right",flat:"",size:"20px",icon:"close",onClick:t[1]||(t[1]=l=>e.searchDialog=!1)}),o(fe,{class:"q-pa-sm","input-class":" text-black",outlined:"",rounded:"",modelValue:e.keyword,"onUpdate:modelValue":t[3]||(t[3]=l=>e.keyword=l),"label-color":"dark",label:e.selected_local.search},{append:s(()=>[e.keyword!==""?(g(),S(W,{key:0,name:"close",onClick:t[2]||(t[2]=l=>e.keyword=""),class:"cursor-pointer"})):x("",!0)]),_:1},8,["modelValue","label"])]),_:1})]),_:1},8,["modelValue"]),e.products.length>0?(g(),w("div",Oe,[(g(!0),w(D,null,$(e.category.sort(),l=>O((g(),w("div",z({class:"row",key:l.category},l),[o(H,{dense:"",class:"col-12 bg-dark text-white"},{default:s(()=>[m("div",{class:be(l.category)},C(l.category),3),o(P)]),_:2},1024),l.category=="\u901F\u51BB\u51B7\u85CFl\uB0C9\uB3D9\uB0C9\uC7A5"?(g(),w("div",He,[o(H,{dense:""},{default:s(()=>[m("div",null,C(e.selected_local.freeze_deliver_info2),1),o(P)]),_:1})])):x("",!0),m("div",Me,[(g(!0),w(D,null,$(e.products.filter(u=>u.category==l.category&&u.stored==1&&(u.tag+u.category+u.keyword).toLowerCase().includes(e.keyword.toLowerCase())),u=>(g(),S(b,z({class:e.list_col_number==3?"col-xs-3 col-sm-3 q-pa-xs":e.list_col_number==4?"col-xs-4 col-sm-4 q-pa-xs":"col-xs-12 col-sm-12 q-pa-xs",key:u.id},u,{colNumber:e.list_col_number,onSetbuyoption:f=>u.buyoption=f,onSetquantity:f=>u.quantity=f,onSendOrderItem:f=>this.$store.dispatch("cart/addProductToCart",u),onSendRemoveItem:f=>this.$store.dispatch("cart/removeProductFromCart",u)}),null,16,["class","colNumber","onSetbuyoption","onSetquantity","onSendOrderItem","onSendRemoveItem"]))),128))])],16)),[[ye,e.showSimulatedReturnData]])),128))])):x("",!0),!e.showSimulatedReturnData||!(e.products.length>0)?(g(),w("div",je,[o(N,{class:"row"},{default:s(()=>[o(d,{class:"col-12",type:"text",height:"20px"}),o(v,{class:"q-gutter-md col-4"},{default:s(()=>[o(d,{type:"rect",height:"120px"}),o(d,{type:"text",height:"33px"})]),_:1}),o(v,{class:"q-gutter-md col-4"},{default:s(()=>[o(d,{type:"rect",height:"120px"}),o(d,{type:"text",height:"33px"})]),_:1}),o(v,{class:"q-gutter-md col-4"},{default:s(()=>[o(d,{type:"rect",height:"120px"}),o(d,{type:"text",height:"33px"})]),_:1}),o(v,{class:"q-gutter-md col-4"},{default:s(()=>[o(d,{type:"rect",height:"120px"}),o(d,{type:"text",height:"33px"})]),_:1}),o(v,{class:"q-gutter-md col-4"},{default:s(()=>[o(d,{type:"rect",height:"120px"}),o(d,{type:"text",height:"33px"})]),_:1}),o(v,{class:"q-gutter-md col-4"},{default:s(()=>[o(d,{type:"rect",height:"120px"}),o(d,{type:"text",height:"33px"})]),_:1}),o(v,{class:"q-gutter-md col-4"},{default:s(()=>[o(d,{type:"rect",height:"120px"}),o(d,{type:"text",height:"33px"})]),_:1}),o(v,{class:"q-gutter-md col-4"},{default:s(()=>[o(d,{type:"rect",height:"120px"}),o(d,{type:"text",height:"33px"})]),_:1}),o(v,{class:"q-gutter-md col-4"},{default:s(()=>[o(d,{type:"rect",height:"120px"}),o(d,{type:"text",height:"33px"})]),_:1})]),_:1})])):x("",!0),o(_e,null,{default:s(()=>[o(Ie,{showing:e.visible,label:e.selected_local.img_loading,"label-style":"font-size: 1.1em"},null,8,["showing","label"]),m("div",Ee,[o(q,{label:"\uC0C1\uD638\uBA85","stack-label":"",style:{"max-width":"fit-content"}},{control:s(()=>[Fe]),_:1}),o(q,{label:"\uB300\uD45C\uC790","stack-label":"",style:{"max-width":"fit-content"}},{control:s(()=>[Ue]),_:1}),o(q,{label:"\uC804\uD654\uBC88\uD638","stack-label":"",style:{"max-width":"fit-content"}},{control:s(()=>[We]),_:1}),o(q,{label:"\uC0AC\uC5C5\uC790\uB4F1\uB85D\uBC88\uD638","stack-label":"",style:{"max-width":"fit-content"}},{control:s(()=>[Ge]),_:1}),o(q,{label:"\uC0AC\uC5C5\uC7A5 \uC8FC\uC18C","stack-label":"",style:{"max-width":"fit-content"}},{control:s(()=>[Je]),_:1})])]),_:1}),o(Ce,{class:"column q-gutter-md",style:{width:"30px"},position:"bottom-right",offset:[60,10]},{default:s(()=>[e.list_col_number==4?(g(),S(p,{key:0,class:"row",color:"dark",size:"20px",onClick:t[5]||(t[5]=l=>e.list_col_number=3),icon:"zoom_in_map",round:""})):(g(),S(p,{key:1,class:"row",color:"dark",size:"20px",onClick:t[6]||(t[6]=l=>e.list_col_number=4),icon:"zoom_out_map",round:""})),o(Le,{class:"row",color:"dark",size:"16px","dropdown-icon":"keyboard_arrow_left",rounded:""},{default:s(()=>[(g(!0),w(D,null,$(e.category.slice().sort(),l=>(g(),S(ke,z({key:l.category},l,{dense:"",padding:"xs",color:"dark"}),{default:s(()=>[O((g(),S(qe,{clickable:"",onClick:u=>e.handleScroll(l.category)},{default:s(()=>[o(xe,null,{default:s(()=>[o(we,{class:"dark"},{default:s(()=>[ve(C(l.category),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick"])),[[Qe]])]),_:2},1040))),128))]),_:1}),o(p,{icon:"keyboard_arrow_up",size:"20px",class:"row bg-dark text-white",round:"",onClick:t[7]||(t[7]=l=>e.go_prev_category())}),o(p,{icon:"keyboard_arrow_down",size:"20px",class:"row bg-dark text-white",round:"",onClick:t[8]||(t[8]=l=>e.go_next_category())})]),_:1})])}var ut=ie(Te,[["render",Xe]]);export{ut as default};
