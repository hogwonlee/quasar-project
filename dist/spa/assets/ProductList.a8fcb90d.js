import{c as A,L as H,N as j,a as w,h,J as M,j as V,S as E,T as ee,U as te,V as oe,W as F,r as f,X as ae,g as le,w as T,o as ne,Y as U,Q as p,Z as se,_ as re,B as ie,C as de,D as ue,E as g,$ as S,a0 as y,H as o,G as s,a1 as ce,a2 as Q,a3 as B,a4 as D,a5 as R,a6 as ge,a7 as he,a8 as $,a9 as me,F as k,aa as N,ab as fe,ac as P,ad as ye,ae as be,af as v,I as ve}from"./index.e481346b.js";import{Q as O}from"./QSpace.9dbd89d1.js";import{Q as pe}from"./QBar.6948c63e.js";import{Q as we,a as q,b as Se,c as ke}from"./QChip.dc3e0b92.js";import{Q as _e,a as qe}from"./QPageContainer.15c41440.js";import{Q as Ce,a as xe}from"./QItem.d4687356.js";import{Q as Qe}from"./QBadge.b969cd41.js";import{C as Be}from"./ClosePopup.f3d144a9.js";import{P as De}from"./ProductInfo.908c789d.js";import{a as $e}from"./axios.37d53be1.js";import{a as Pe}from"./alert.4e1110ed.js";import{c as ze}from"./index.72c2906b.js";import"./selection.b62aede8.js";import"./QImg.cc7b71d4.js";import"./QToolbarTitle.6d7c35d1.js";import"./QToolbar.229930ca.js";const Ie=["text","rect","circle","QBtn","QBadge","QChip","QToolbar","QCheckbox","QRadio","QToggle","QSlider","QRange","QInput","QAvatar"],Ae=["wave","pulse","pulse-x","pulse-y","fade","blink","none"];var d=A({name:"QSkeleton",props:{...H,tag:{type:String,default:"div"},type:{type:String,validator:e=>Ie.includes(e),default:"rect"},animation:{type:String,validator:e=>Ae.includes(e),default:"wave"},animationSpeed:{type:[String,Number],default:1500},square:Boolean,bordered:Boolean,size:String,width:String,height:String},setup(e,{slots:t}){const a=V(),r=j(e,a.proxy.$q),c=w(()=>{const b=e.size!==void 0?[e.size,e.size]:[e.width,e.height];return{"--q-skeleton-speed":`${e.animationSpeed}ms`,width:b[0],height:b[1]}}),i=w(()=>`q-skeleton q-skeleton--${r.value===!0?"dark":"light"} q-skeleton--type-${e.type}`+(e.animation!=="none"?` q-skeleton--anim q-skeleton--anim-${e.animation}`:"")+(e.square===!0?" q-skeleton--square":"")+(e.bordered===!0?" q-skeleton--bordered":""));return()=>h(e.tag,{class:i.value,style:c.value},M(t.default))}}),Ve=A({name:"QInnerLoading",props:{...H,...E,showing:Boolean,color:String,size:{type:[String,Number],default:42},label:String,labelClass:String,labelStyle:[String,Array,Object]},setup(e,{slots:t}){const a=V(),r=j(e,a.proxy.$q),{transitionProps:c,transitionStyle:i}=ee(e),b=w(()=>"q-inner-loading q--avoid-card-border absolute-full column flex-center"+(r.value===!0?" q-inner-loading--dark":"")),n=w(()=>"q-inner-loading__label"+(e.labelClass!==void 0?` ${e.labelClass}`:""));function u(){const _=[h(oe,{size:e.size,color:e.color})];return e.label!==void 0&&_.push(h("div",{class:n.value,style:e.labelStyle},[e.label])),_}function m(){return e.showing===!0?h("div",{class:b.value,style:i.value},t.default!==void 0?t.default():u()):null}return()=>h(te,c.value,m)}});const Le=Object.keys(F);function Te(e){return Le.reduce((t,a)=>{const r=e[a];return r!==void 0&&(t[a]=r),t},{})}var Re=A({name:"QBtnDropdown",props:{...F,...E,modelValue:Boolean,split:Boolean,dropdownIcon:String,contentClass:[Array,String,Object],contentStyle:[Array,String,Object],cover:Boolean,persistent:Boolean,noRouteDismiss:Boolean,autoClose:Boolean,menuAnchor:{type:String,default:"bottom end"},menuSelf:{type:String,default:"top end"},menuOffset:Array,disableMainBtn:Boolean,disableDropdown:Boolean,noIconAnimation:Boolean,toggleAriaLabel:String},emits:["update:modelValue","click","beforeShow","show","beforeHide","hide"],setup(e,{slots:t,emit:a}){const{proxy:r}=V(),c=f(e.modelValue),i=f(null),b=ae(),n=w(()=>{const l={"aria-expanded":c.value===!0?"true":"false","aria-haspopup":"true","aria-controls":b.value,"aria-label":e.toggleAriaLabel||r.$q.lang.label[c.value===!0?"collapse":"expand"](e.label)};return(e.disable===!0||e.split===!1&&e.disableMainBtn===!0||e.disableDropdown===!0)&&(l["aria-disabled"]="true"),l}),u=w(()=>"q-btn-dropdown__arrow"+(c.value===!0&&e.noIconAnimation===!1?" rotate-180":"")+(e.split===!1?" q-btn-dropdown__arrow-container":"")),m=w(()=>le(e)),_=w(()=>Te(e));T(()=>e.modelValue,l=>{i.value!==null&&i.value[l?"show":"hide"]()}),T(()=>e.split,x);function W(l){c.value=!0,a("beforeShow",l)}function G(l){a("show",l),a("update:modelValue",!0)}function J(l){c.value=!1,a("beforeHide",l)}function X(l){a("hide",l),a("update:modelValue",!1)}function Y(l){a("click",l)}function Z(l){se(l),x(),a("click",l)}function K(l){i.value!==null&&i.value.toggle(l)}function L(l){i.value!==null&&i.value.show(l)}function x(l){i.value!==null&&i.value.hide(l)}return Object.assign(r,{show:L,hide:x,toggle:K}),ne(()=>{e.modelValue===!0&&L()}),()=>{const l=[h(U,{class:u.value,name:e.dropdownIcon||r.$q.iconSet.arrow.dropdown})];return e.disableDropdown!==!0&&l.push(h(we,{ref:i,id:b.value,class:e.contentClass,style:e.contentStyle,cover:e.cover,fit:!0,persistent:e.persistent,noRouteDismiss:e.noRouteDismiss,autoClose:e.autoClose,anchor:e.menuAnchor,self:e.menuSelf,offset:e.menuOffset,separateClosePopup:!0,transitionShow:e.transitionShow,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,onBeforeShow:W,onShow:G,onBeforeHide:J,onHide:X},t.default)),e.split===!1?h(p,{class:"q-btn-dropdown q-btn-dropdown--simple",..._.value,...n.value,disable:e.disable===!0||e.disableMainBtn===!0,noWrap:!0,round:!1,onClick:Y},{default:()=>M(t.label,[]).concat(l),loading:t.loading}):h(_e,{class:"q-btn-dropdown q-btn-dropdown--split no-wrap q-btn-item",rounded:e.rounded,square:e.square,...m.value,glossy:e.glossy,stretch:e.stretch},()=>[h(p,{class:"q-btn-dropdown--current",..._.value,disable:e.disable===!0||e.disableMainBtn===!0,noWrap:!0,round:!1,onClick:Z},{default:t.label,loading:t.loading}),h(p,{class:"q-btn-dropdown__arrow-container q-anchor--skip",...n.value,...m.value,disable:e.disable===!0||e.disableDropdown===!0,rounded:e.rounded,color:e.color,textColor:e.textColor,dense:e.dense,size:e.size,padding:e.padding,ripple:e.ripple},()=>l)])}}});const{offset:C}=ge,{getScrollTarget:z,setVerticalScrollPosition:I}=he,Ne=ie({name:"ProductList",components:{ProductInfo:De},methods:{go_prev_category(){var e=this.category[0].category,t=0,a=-9999;this.category.forEach(i=>{C(document.querySelector("."+i.category)).top<0&&(t=C(document.querySelector("."+i.category)).top,t>a&&(a=t,e=i.category))});let r=z(document.querySelector("."+e));const c=300;I(r,document.querySelector("."+e).offsetTop-50,c)},go_next_category(){var e,t=0,a=9999;this.category.forEach(i=>{C(document.querySelector("."+i.category)).top>100&&(t=C(document.querySelector("."+i.category)).top,t<a&&(a=t,e=i.category))});let r=z(document.querySelector("."+e));const c=300;I(r,document.querySelector("."+e).offsetTop-50,c)},handleScroll(e){let t=document.querySelector("."+e),a=z(t),r=t.offsetTop-50;I(a,r,300)},products_update(){const e=this.products.length<=0?{version:0}:{version:this.storeversion};$e.get(`${ze.server}/productList`,{params:e}).then(t=>{if(t.status==200)if(t.data.version==this.storeversion)console.log("no update");else{var a="";this.$store.dispatch("category/emptyStoreAction"),this.$store.dispatch("products/emptyStoreAction"),t.data.results.map(r=>{r.category!=a&&(this.$store.dispatch("category/getCategoryAction",r.category),a=r.category),this.$store.dispatch("products/getProductAction",r)}),this.$store.dispatch("products/getVersionAction",t.data.version)}else Pe.confirm(this.selected_local.err,this.selected_local.err+": "+t.data.content)}).catch(t=>{console.log("\uC5D0\uB7EC:"+t)})},setproductbuyoption(e,t){e.buyoption=t},showProductLoading(){this.products.length>0?(this.visible=!1,this.showSimulatedReturnData=!0,setTimeout(()=>{this.products_update()},1e3)):(this.visible=!0,this.showSimulatedReturnData=!1,setTimeout(()=>{this.visible=!1,this.showSimulatedReturnData=!0,this.products_update()},1e3))}},computed:{...de({checkoutStatus:e=>e.cart.checkoutStatus,category:e=>e.category.items,products:e=>e.products.all,storeversion:e=>e.products.version,products_status:e=>e.products.status,selected_local:e=>e.ui_local.status})},mounted(){this.showProductLoading()},setup(){return{list_show:f(!1),childbuyoption:f("one"),keyword:f(""),event_fab:f(!1),visible:f(!0),showSimulatedReturnData:f(!1),list_col_number:f(4),searchDialog:f(!1)}}}),Oe={class:"fixed-top-right z-top q-ma-xs row q-gutter-sm"},He={class:"text-h2"},je={key:0},Me={class:"row q-pa-xs q-col-gutter-sm"},Ee={key:1},Fe={class:"q-gutter-md row inline"},Ue=y("div",null,"\uC911\uAD6D\uC2DD\uD488\uC628\uB77C\uC778",-1),We=y("div",null,"\uC774\uD638\uAD8C",-1),Ge=y("div",null,"010-8492-0526",-1),Je=y("div",null,"306-37-32411",-1),Xe=y("div",null,"\uACBD\uAE30\uB3C4 \uBD80\uCC9C\uC2DC \uC6D0\uBBF8\uAD6C \uBD80\uCC9C\uB85C47\uBC88\uAE38 9, \uC911\uC559\uC790\uC720\uC2DC\uC7A5 15\uD638",-1);function Ye(e,t,a,r,c,i){const b=ue("ProductInfo");return g(),S("div",null,[y("div",Oe,[o(p,{icon:"search",size:"12px",flat:"",outline:"",onClick:t[0]||(t[0]=n=>e.searchDialog=!0)})]),o(ce,{class:"z-max",modelValue:e.searchDialog,"onUpdate:modelValue":t[4]||(t[4]=n=>e.searchDialog=n),position:"top"},{default:s(()=>[o(R,{style:{width:"100%"}},{default:s(()=>[y("div",He,$(e.selected_local.chinafood=="\u6D3D\u6D3D\u4E2D\u56FD\u98DF\u54C1"?"\u5546\u54C1\u641C\u7D22":"\uC0C1\uD488\uAC80\uC0C9"),1),o(O),o(p,{class:"absolute-top-right",flat:"",size:"20px",icon:"close",onClick:t[1]||(t[1]=n=>e.searchDialog=!1)}),o(me,{class:"q-pa-sm","input-class":" text-black",outlined:"",rounded:"",modelValue:e.keyword,"onUpdate:modelValue":t[3]||(t[3]=n=>e.keyword=n),"label-color":"dark",label:e.selected_local.search},{append:s(()=>[e.keyword!==""?(g(),k(U,{key:0,name:"close",onClick:t[2]||(t[2]=n=>e.keyword=""),class:"cursor-pointer"})):D("",!0)]),_:1},8,["modelValue","label"])]),_:1})]),_:1},8,["modelValue"]),e.products.length>0?(g(),S("div",je,[(g(!0),S(Q,null,B(e.category.sort(),n=>N((g(),S("div",P({key:n.category},n),[o(pe,{dense:"",class:"col-12 bg-dark text-white"},{default:s(()=>[y("div",{class:ye(n.category)},$(n.category),3),o(O)]),_:2},1024),o(be),y("div",Me,[(g(!0),S(Q,null,B(e.products.filter(u=>u.category==n.category&&u.stored==1&&(u.tag+u.category+u.keyword).toLowerCase().includes(e.keyword.toLowerCase())),u=>(g(),k(b,P({class:[e.list_col_number==3?"col-3":e.list_col_number==4?"col-4":"col-12","q-pa-xs"],key:u.id},u,{colNumber:e.list_col_number,onSetbuyoption:m=>u.buyoption=m,onSetquantity:m=>u.quantity=m,onSendOrderItem:m=>this.$store.dispatch("cart/addProductToCart",u),onSendRemoveItem:m=>this.$store.dispatch("cart/removeProductFromCart",u)}),null,16,["class","colNumber","onSetbuyoption","onSetquantity","onSendOrderItem","onSendRemoveItem"]))),128))])],16)),[[fe,e.showSimulatedReturnData]])),128))])):D("",!0),!e.showSimulatedReturnData||!(e.products.length>0)?(g(),S("div",Ee,[o(R,{class:"row"},{default:s(()=>[o(d,{class:"col-12",type:"text",height:"20px"}),o(v,{class:"q-gutter-md col-4"},{default:s(()=>[o(d,{type:"rect",height:"120px"}),o(d,{type:"text",height:"33px"})]),_:1}),o(v,{class:"q-gutter-md col-4"},{default:s(()=>[o(d,{type:"rect",height:"120px"}),o(d,{type:"text",height:"33px"})]),_:1}),o(v,{class:"q-gutter-md col-4"},{default:s(()=>[o(d,{type:"rect",height:"120px"}),o(d,{type:"text",height:"33px"})]),_:1}),o(v,{class:"q-gutter-md col-4"},{default:s(()=>[o(d,{type:"rect",height:"120px"}),o(d,{type:"text",height:"33px"})]),_:1}),o(v,{class:"q-gutter-md col-4"},{default:s(()=>[o(d,{type:"rect",height:"120px"}),o(d,{type:"text",height:"33px"})]),_:1}),o(v,{class:"q-gutter-md col-4"},{default:s(()=>[o(d,{type:"rect",height:"120px"}),o(d,{type:"text",height:"33px"})]),_:1}),o(v,{class:"q-gutter-md col-4"},{default:s(()=>[o(d,{type:"rect",height:"120px"}),o(d,{type:"text",height:"33px"})]),_:1}),o(v,{class:"q-gutter-md col-4"},{default:s(()=>[o(d,{type:"rect",height:"120px"}),o(d,{type:"text",height:"33px"})]),_:1}),o(v,{class:"q-gutter-md col-4"},{default:s(()=>[o(d,{type:"rect",height:"120px"}),o(d,{type:"text",height:"33px"})]),_:1})]),_:1})])):D("",!0),o(qe,null,{default:s(()=>[o(Ve,{showing:e.visible,label:e.selected_local.img_loading,"label-style":"font-size: 1.1em"},null,8,["showing","label"]),y("div",Fe,[o(q,{label:"\uC0C1\uD638\uBA85","stack-label":"",style:{"max-width":"fit-content"}},{control:s(()=>[Ue]),_:1}),o(q,{label:"\uB300\uD45C\uC790","stack-label":"",style:{"max-width":"fit-content"}},{control:s(()=>[We]),_:1}),o(q,{label:"\uC804\uD654\uBC88\uD638","stack-label":"",style:{"max-width":"fit-content"}},{control:s(()=>[Ge]),_:1}),o(q,{label:"\uC0AC\uC5C5\uC790\uB4F1\uB85D\uBC88\uD638","stack-label":"",style:{"max-width":"fit-content"}},{control:s(()=>[Je]),_:1}),o(q,{label:"\uC0AC\uC5C5\uC7A5 \uC8FC\uC18C","stack-label":"",style:{"max-width":"fit-content"}},{control:s(()=>[Xe]),_:1})])]),_:1}),o(Qe,{class:"column q-gutter-md",style:{width:"30px"},position:"bottom-right",offset:[60,10]},{default:s(()=>[e.list_col_number==4?(g(),k(p,{key:0,class:"row",color:"dark",size:"20px",onClick:t[5]||(t[5]=n=>e.list_col_number=3),icon:"zoom_in_map",round:""})):(g(),k(p,{key:1,class:"row",color:"dark",size:"20px",onClick:t[6]||(t[6]=n=>e.list_col_number=4),icon:"zoom_out_map",round:""})),o(Re,{class:"row",color:"dark",size:"16px","dropdown-icon":"keyboard_arrow_left",rounded:""},{default:s(()=>[(g(!0),S(Q,null,B(e.category.slice().sort(),n=>(g(),k(ke,P({key:n.category},n,{dense:"",padding:"xs",color:"dark"}),{default:s(()=>[N((g(),k(Ce,{clickable:"",onClick:u=>e.handleScroll(n.category)},{default:s(()=>[o(xe,null,{default:s(()=>[o(Se,{class:"dark"},{default:s(()=>[ve($(n.category),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick"])),[[Be]])]),_:2},1040))),128))]),_:1}),o(p,{icon:"keyboard_arrow_up",size:"20px",class:"row bg-dark text-white",round:"",onClick:t[7]||(t[7]=n=>e.go_prev_category())}),o(p,{icon:"keyboard_arrow_down",size:"20px",class:"row bg-dark text-white",round:"",onClick:t[8]||(t[8]=n=>e.go_next_category())})]),_:1})])}var mt=re(Ne,[["render",Ye]]);export{mt as default};
